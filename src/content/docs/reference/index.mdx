---
title: Reference
description: Complete CLI commands, config schema, and API documentation
sidebar:
  order: 0
---

## Lookup Documentation

This section is for when you need to know "what are all the options for X?"

Not tutorials. Not explanations. Just facts.

## API Reference

## Decorators

### @vibesafe

Main decorator for marking functions to be AI-implemented.

#### Signature

```python
@vibesafe(
    provider: str = "default",
    template: str | None = None,
    model: str | None = None,
    kind: Literal["function", "http", "cli"] = "function"
)
```

#### Parameters

- provider (str): Provider name from vibesafe.toml. Default: "default"
- template (str | None): Custom template path. Default: uses kind to select template
- model (str | None): Override model for this specific unit
- kind (str): Type of implementation. Options:
  - "function": Regular Python function (default)
  - "http": FastAPI HTTP endpoint
  - "cli": CLI command

#### Examples

Basic Function:

```python
from vibesafe import vibesafe, VibeCoded

@vibesafe
def greet(name: str) -> str:
    """
    >>> greet("World")
    'Hello, World!'
    """
    raise VibeCoded()
```

HTTP Endpoint:

```python
@vibesafe(kind="http")
def create_user(name: str, email: str) -> dict:
    """
    POST endpoint to create a user.

    >>> create_user("Alice", "alice@example.com")
    {'id': '...', 'name': 'Alice', 'email': 'alice@example.com'}
    """
    raise VibeCoded()
```

CLI Command:

```python
@vibesafe(kind="cli")
def deploy(env: str, dry_run: bool = False) -> None:
    """
    Deploy application to environment.

    >>> deploy("staging", dry_run=True)
    # Outputs deployment plan
    """
    raise VibeCoded()
```

Custom Model:

```python
@vibesafe(model="gpt-4", provider="openai")
def complex_analysis(data: list[dict]) -> dict:
    """Complex analysis requiring advanced model."""
    raise VibeCoded()
```

## Exceptions

### VibeCoded

Exception/marker raised to indicate where AI should generate code.

#### Usage

```python
def my_function():
    # Optional preamble code
    validate_input()

    # Mark AI boundary
    raise VibeCoded()
```

#### Notes

- Must be raised (not yielded) in function body
- Can appear after preamble code
- Signals to parser where AI generation begins

## Module Functions

### vibesafe.get_registry()

Returns the global unit registry.

### vibesafe.get_unit(unit_id: str)

Retrieve a specific unit by ID.

### vibesafe.resolve_template_id(unit_id: str)

Resolve the template ID for a unit.

## What's Here (Coming Soon)

**CLI Commands:**
- `vibesafe scan` - All flags and options
- `vibesafe compile` - Compilation parameters
- `vibesafe test` - Testing options
- `vibesafe save` - Activation command
- `vibesafe status` - Status reporting
- `vibesafe diff` - Drift detection
- `vibesafe check` - Checksum verification
- `vibesafe repl` - Interactive mode

**Configuration:**
- `vibesafe.toml` schema (complete)
- Environment variables
- Provider configuration
- Path configuration
- Prompt templates

**API:**
- `@vibesafe` decorator
- `@vibesafe(kind="http")` decorator
- `@vibesafe(kind="cli")` decorator
- `VibeCoded` exception
- Runtime loader API
- Exceptions

**File Formats:**
- `.vibesafe/index.toml` structure
- Checkpoint `meta.toml` format
- Cache file format

## For Now

See:
- **[Configuration Guide](../getting-started/configuration)** - Practical config examples
- **[Source Code](https://github.com/julep-ai/vibesafe/tree/main/src/vibesafe)** - The actual implementation
- `vibesafe --help` - Built-in help

## Contributing

Documentation PRs welcome at [github.com/julep-ai/vibesafe](https://github.com/julep-ai/vibesafe).
